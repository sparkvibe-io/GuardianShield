{% extends "base.html" %}

{% block extrahead %}
  {% set page_title = page.meta.title if page and page.meta and page.meta.title else (page.title if page else config.site_name) %}
  {% set page_desc = page.meta.description if page and page.meta and page.meta.description else config.site_description %}
  {% set page_url = page.canonical_url if page else config.site_url %}

  <!-- Primary Meta Tags -->
  <meta name="title" content="{{ page_title }} - GuardianShield">
  <meta name="description" content="{{ page_desc }}">
  <meta name="keywords" content="AI security, MCP server, code scanning, PII detection, prompt injection, secret detection, guardrails, LLM safety, Claude Code, VS Code, Cursor, open source, Python">
  <meta name="author" content="SparkVibe">

  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="{{ page_url }}">
  <meta property="og:title" content="{{ page_title }} - GuardianShield">
  <meta property="og:description" content="{{ page_desc }}">
  <meta property="og:site_name" content="GuardianShield">

  <!-- Twitter -->
  <meta property="twitter:card" content="summary_large_image">
  <meta property="twitter:url" content="{{ page_url }}">
  <meta property="twitter:title" content="{{ page_title }} - GuardianShield">
  <meta property="twitter:description" content="{{ page_desc }}">

  <!-- Canonical URL -->
  {% if page %}
  <link rel="canonical" href="{{ page.canonical_url }}">
  {% endif %}

  <!-- JSON-LD Structured Data (homepage only) -->
  {% if page and page.is_homepage %}
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "SoftwareApplication",
    "name": "GuardianShield",
    "description": "{{ config.site_description }}",
    "url": "{{ config.site_url }}",
    "applicationCategory": "SecurityApplication",
    "operatingSystem": "Linux, macOS, Windows",
    "offers": {
      "@type": "Offer",
      "price": "0",
      "priceCurrency": "USD"
    },
    "author": {
      "@type": "Organization",
      "name": "SparkVibe",
      "url": "https://sparkvibe.io"
    },
    "license": "https://www.apache.org/licenses/LICENSE-2.0",
    "programmingLanguage": "Python",
    "codeRepository": "https://github.com/sparkvibe-io/GuardianShield"
  }
  </script>
  {% endif %}
{% endblock %}
